import{d as f,r as u,c as N,a as o,w as t,E as l,b as w,e as h,o as V,f as p,g as x,u as E,h as y,p as k}from"./index-2481af03.js";import{E as v,a as C}from"./form-item-33a802d7.js";import"./_initCloneObject-8f27a167.js";const b={class:"login"},B=x("h3",{class:"login_title"},"系统登录",-1),M=f({__name:"Login",setup(I){const n=u({name:""}),d=E(),_=()=>{if(e.loginName===""){l.error("请输入用户名！");return}if(e.password===""){l.error("请输入密码！");return}w.post("/login",{loginName:e.loginName,password:e.password}).then(a=>{a.data===200&&(localStorage.setItem("user",e.loginName),n.name=e.loginName,k("user",n),l.success(n.name),d.push({name:"home",params:{userId:e.loginName}}),l.success("欢迎"+e.loginName)),a.data===400&&l.error("密码错误！")}).catch(a=>{l.error("后台未连接！"),console.log(a)})},e=u({loginName:"",password:"",name:"liu",age:"20",sex:"男",phone:"1203",resource:"",desc:""});return(a,s)=>{const m=y,i=C,g=v,c=h;return V(),N("div",b,[o(g,{model:e,"label-width":"0px",class:"login-container","label-position":"left"},{default:t(()=>[B,o(i,null,{default:t(()=>[o(m,{type:"text",modelValue:e.loginName,"onUpdate:modelValue":s[0]||(s[0]=r=>e.loginName=r),"auto-complete":"off",placeholder:"账号"},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(m,{type:"password",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=r=>e.password=r),"auto-complete":"off",placeholder:"密码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o(c,{type:"primary",onClick:_},{default:t(()=>[p("登录")]),_:1}),o(c,{type:"warning",onClick:a.cancel},{default:t(()=>[p("取消")]),_:1},8,["onClick"])])}}});export{M as default};
