import{d as H,i as O,r as p,o as B,c as P,a as l,w as t,f as r,g as _,F as A,l as dl,b as i,E as c,e as N,h as nl,m as pl}from"./index-2481af03.js";import{a as M,E as S}from"./table-column-140aeb9e.js";import{E as rl}from"./overlay-dde63264.js";import{E as T}from"./index-dd477983.js";import"./_initCloneObject-8f27a167.js";import"./index-1f4bb2e0.js";const il=_("h2",null,"步骤判断矩阵",-1),ul=_("h2",null,"步骤操作层判断矩阵",-1),bl=_("h2",null,"模具判断矩阵",-1),hl=_("h2",null,"模具状态判断矩阵",-1),ml={class:"dialog-footer"},gl=_("h2",null,"步骤权重",-1),_l=_("h2",null,"步骤操作层权重",-1),fl=_("h2",null,"模具权重",-1),yl=_("h2",null,"模具状态权重",-1),wl={class:"dialog-footer"},xl=H({__name:"AHPWeight",setup(K){const f=O(!1),x=p([]),j=p([]),D=p([]),v=p([]),k=p([{data1:"",data2:"",data3:"",data4:"",data5:"",data6:"",data7:"",data8:""}]),d=p([{data1:"",data2:"",data3:""}]),b=p([{data1:"",data2:"",data3:"",data4:"",data5:"",data6:"",data7:"",data8:"",data9:""}]),a=p([{data1:"",data2:"",data3:"",data4:""}]),h=p([{data1:"",data2:"",data3:"",data4:""}]),g=p([]),m=p([]),C=p([{label:"步骤1",prop:"col1"},{label:"步骤2",prop:"col2"},{label:"步骤3",prop:"col3"},{label:"步骤4",prop:"col4"},{label:"步骤5",prop:"col5"},{label:"步骤6",prop:"col6"},{label:"步骤7",prop:"col7"},{label:"步骤8",prop:"col8"}]),F=p([{label:"操作时间",prop:"col1"},{label:"操作精准度",prop:"col2"},{label:"操作质量",prop:"col3"}]),W=p([{label:"模具1",prop:"col1"},{label:"模具2",prop:"col2"},{label:"模具3",prop:"col3"},{label:"模具4",prop:"col4"}]),L=p([{label:"objectx",prop:"col1"},{label:"objecty",prop:"col2"},{label:"objectz",prop:"col3"},{label:"anglex",prop:"col4"},{label:"angley",prop:"col5"},{label:"anglez",prop:"col6"},{label:"speedx",prop:"col7"},{label:"speedy",prop:"col8"},{label:"speedz",prop:"col9"}]),q=p([{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:""}]),G=p([{col1:"",col2:"",col3:""},{col1:"",col2:"",col3:""},{col1:"",col2:"",col3:""}]),J=p([{col1:"",col2:"",col3:"",col4:""},{col1:"",col2:"",col3:"",col4:""},{col1:"",col2:"",col3:"",col4:""},{col1:"",col2:"",col3:"",col4:""}]),Q=p([{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:"",col7:"",col8:"",col9:""}]),w=O(!1),$=O(),X=()=>{w.value=!0,m.splice(0,m.length,...C),g.splice(0,g.length,...q)},Y=()=>{w.value=!0,m.splice(0,m.length,...F),g.splice(0,g.length,...G)},Z=()=>{w.value=!0,m.splice(0,m.length,...W),g.splice(0,g.length,...J)},ll=()=>{w.value=!0,m.splice(0,m.length,...L),g.splice(0,g.length,...Q)},I=()=>{w.value=!1},el=()=>{const o=g.map(s=>Object.values(s));$.value=o,w.value=!1,i.get("/rule1/change/"+$.value).then(s=>{s.data==-100?c.error("请输入完整的矩阵！"):s.data!=1?c.info("修改不成功，CR 为: "+s.data):c.success("修改成功，请刷新")}).catch(s=>{c.error("出错了"),console.log(s)})},al=()=>{i.get("/rule1/back/").then(o=>{c.success("恢复成功，请刷新")}).catch(o=>{c.error("出错了"),console.log(o)})};localStorage.getItem("user");const E=()=>{f.value=!1,z.value=!1},ol=()=>{i.get("/rule1/ahp1").then(o=>{Object.assign(x,o.data)}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/ahp2").then(o=>{Object.assign(j,o.data)}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/ahp3").then(o=>{Object.assign(D,o.data)}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/ahp4").then(o=>{Object.assign(v,o.data)}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/cr").then(o=>{o.data.forEach((n,e)=>{h[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),f.value=!0},z=O(!1),tl=()=>{i.get("/rule1/weight1").then(o=>{o.data.forEach((n,e)=>{k[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/weight2").then(o=>{o.data.forEach((n,e)=>{d[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/weight3").then(o=>{o.data.forEach((n,e)=>{b[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/weight4").then(o=>{o.data.forEach((n,e)=>{a[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),i.get("/rule1/cr").then(o=>{o.data.forEach((n,e)=>{a[0]["data"+(e+1)]=n})}).catch(o=>{c.error("后台未连接！"),console.log(o)}),z.value=!0};return(o,s)=>{const n=N,e=M,y=S,V=nl,R=rl;return B(),P(A,null,[l(n,{type:"danger",round:"",onClick:ol},{default:t(()=>[r("修改AHP判断矩阵")]),_:1}),l(R,{title:"AHP矩阵",modelValue:f.value,"onUpdate:modelValue":s[4]||(s[4]=u=>f.value=u),onClose:E},{footer:t(()=>[_("div",ml,[l(n,{type:"primary",onClick:X},{default:t(()=>[r("修改AHP矩阵1")]),_:1}),l(n,{type:"primary",onClick:Y},{default:t(()=>[r("修改AHP矩阵2")]),_:1}),l(n,{type:"primary",onClick:Z},{default:t(()=>[r("修改AHP矩阵3")]),_:1}),l(n,{type:"primary",onClick:ll},{default:t(()=>[r("修改AHP矩阵4")]),_:1}),l(n,{type:"info",onClick:al},{default:t(()=>[r("恢复默认值")]),_:1})])]),default:t(()=>[il,l(y,{data:x,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"0",label:"步骤1"}),l(e,{prop:"1",label:"步骤2"}),l(e,{prop:"2",label:"步骤3"}),l(e,{prop:"3",label:"步骤4"}),l(e,{prop:"4",label:"步骤5"}),l(e,{prop:"5",label:"步骤6"}),l(e,{prop:"6",label:"步骤7"}),l(e,{prop:"7",label:"步骤8"})]),_:1},8,["data"]),r(" CR: "),l(V,{class:"w-50 m-2",modelValue:h[0].data1,"onUpdate:modelValue":s[0]||(s[0]=u=>h[0].data1=u),disabled:""},null,8,["modelValue"]),ul,l(y,{data:j,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"0",label:"操作时间"}),l(e,{prop:"1",label:"操作精准度"}),l(e,{prop:"2",label:"操作质量"})]),_:1},8,["data"]),r(" CR: "),l(V,{class:"w-50 m-2",modelValue:h[0].data2,"onUpdate:modelValue":s[1]||(s[1]=u=>h[0].data2=u),disabled:""},null,8,["modelValue"]),bl,l(y,{data:v,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"0",label:"模具1"}),l(e,{prop:"1",label:"模具2"}),l(e,{prop:"2",label:"模具3"}),l(e,{prop:"3",label:"模具4"})]),_:1},8,["data"]),r(" CR: "),l(V,{class:"w-50 m-2",modelValue:h[0].data4,"onUpdate:modelValue":s[2]||(s[2]=u=>h[0].data4=u),disabled:""},null,8,["modelValue"]),hl,l(y,{data:D,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"0",label:"objectx"}),l(e,{prop:"1",label:"objecty"}),l(e,{prop:"2",label:"objectz"}),l(e,{prop:"3",label:"anglex"}),l(e,{prop:"4",label:"angley"}),l(e,{prop:"5",label:"anglez"}),l(e,{prop:"6",label:"speedx"}),l(e,{prop:"7",label:"speedy"}),l(e,{prop:"8",label:"speedz"})]),_:1},8,["data"]),r(" CR: "),l(V,{class:"w-50 m-2",modelValue:h[0].data3,"onUpdate:modelValue":s[3]||(s[3]=u=>h[0].data3=u),disabled:""},null,8,["modelValue"])]),_:1},8,["modelValue"]),l(n,{type:"success",round:"",onClick:tl},{default:t(()=>[r("计算权重")]),_:1}),l(R,{title:"Weight矩阵",modelValue:z.value,"onUpdate:modelValue":s[5]||(s[5]=u=>z.value=u),onClose:E,width:"1300px"},{footer:t(()=>[_("div",wl,[l(n,{onClick:E},{default:t(()=>[r("取消")]),_:1}),l(n,{type:"primary",onClick:E},{default:t(()=>[r("确定")]),_:1})])]),default:t(()=>[gl,l(y,{data:k,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"data1",label:"步骤1"}),l(e,{prop:"data2",label:"步骤2"}),l(e,{prop:"data3",label:"步骤3"}),l(e,{prop:"data4",label:"步骤4"}),l(e,{prop:"data5",label:"步骤5"}),l(e,{prop:"data6",label:"步骤6"}),l(e,{prop:"data7",label:"步骤7"}),l(e,{prop:"data8",label:"步骤8"})]),_:1},8,["data"]),_l,l(y,{data:d,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"data1",label:"操作时间"}),l(e,{prop:"data2",label:"操作精准度"}),l(e,{prop:"data3",label:"操作质量"})]),_:1},8,["data"]),fl,l(y,{data:a,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"data1",label:"模具1"}),l(e,{prop:"data2",label:"模具2"}),l(e,{prop:"data3",label:"模具3"}),l(e,{prop:"data4",label:"模具4"})]),_:1},8,["data"]),yl,l(y,{data:b,style:{width:"100%"}},{default:t(()=>[l(e,{prop:"data1",label:"objectx"}),l(e,{prop:"data2",label:"objecty"}),l(e,{prop:"data3",label:"Objectz"}),l(e,{prop:"data4",label:"anglexx"}),l(e,{prop:"data5",label:"anglexy"}),l(e,{prop:"data6",label:"anglexz"}),l(e,{prop:"data7",label:"speedx"}),l(e,{prop:"data8",label:"speedy"}),l(e,{prop:"data9",label:"speedz"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),_("div",null,[l(R,{title:"请输入AHP矩阵",modelValue:w.value,"onUpdate:modelValue":s[6]||(s[6]=u=>w.value=u),onClose:I},{default:t(()=>[l(y,{data:g,border:""},{default:t(()=>[(B(!0),P(A,null,dl(m,(u,cl)=>(B(),pl(e,{key:cl,label:u.label},{default:t(({row:U})=>[l(V,{modelValue:U[u.prop],"onUpdate:modelValue":sl=>U[u.prop]=sl,placeholder:"请输入数据"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),128))]),_:1},8,["data"]),l(n,{onClick:I},{default:t(()=>[r("取消")]),_:1}),l(n,{type:"primary",onClick:el},{default:t(()=>[r("确认")]),_:1})]),_:1},8,["modelValue"])])],64)}}}),Cl=_("h2",null,"水下管汇安装系统评分规则",-1),Vl=_("h3",null,"详细信息",-1),Ol=H({__name:"Rule",setup(K){const f=p([{id:"1",name:"一：吊起管汇",info:"吊机左移",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"2",name:"一：吊起管汇",info:"钩住管汇",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"3",name:"一：吊起管汇",info:"吊起管汇",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"4",name:"二：下放管汇",info:"管汇入水",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"5",name:"二：下放管汇",info:"管汇下放海底",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"6",name:"三：ROV抓取管汇",info:"ROV高度调整",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"7",name:"三：ROV抓取管汇",info:"ROV抓取管汇",usetime:"",usetimesd:"",distance:"",distancesd:""},{id:"8",name:"四：ROV抓取管汇进行对中",info:"ROV抓取管汇进行水平对中",usetime:"",usetimesd:"",distance:"",distancesd:""}]),x=p([]);localStorage.getItem("user"),i.get("/rule1").then(d=>{d.data.forEach((a,h)=>{Object.assign(f[h],a)})}).catch(d=>{c.error("后台未连接！"),console.log(d)});const j=d=>{T.prompt("请输入0到1000000的数","提示",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^\d{1,6}$/,inputErrorMessage:"请输入0到1000000的整数",customClass:"custom-message-box"}).then(({value:b})=>{f[Number(d)-1].usetime=b,i.get("/rule1/setTime/"+d+"/"+b).then(a=>{c.success("修改成功！")}).catch(a=>{c.error("后台未连接！"),console.log(a)})}).catch(()=>{c({type:"info",message:"Input canceled"})})},D=d=>{T.prompt("请输入0到10000的数","提示",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^\d{1,4}$/,inputErrorMessage:"请输入0到10000的整数",customClass:"custom-message-box"}).then(({value:b})=>{f[Number(d)-1].usetimesd=b,i.get("/rule1/setTimeSD/"+d+"/"+b).then(a=>{c.success("修改成功！")}).catch(a=>{c.error("后台未连接！"),console.log(a)})}).catch(()=>{c({type:"info",message:"Input canceled"})})},v=d=>{T.prompt("请输入1到10之间的数字（可保留小数点后两位）","提示",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^(?!0\d)(\d|[1-9]\d)(\.\d+)?$/,inputErrorMessage:"请输入1到10之间的数字（可保留小数点后两位）",customClass:"custom-message-box"}).then(({value:b})=>{f[Number(d)-1].distance=b,i.get("/rule1/setDis/"+d+"/"+b).then(a=>{c.success("修改成功！")}).catch(a=>{c.error("后台未连接！"),console.log(a)})}).catch(()=>{c({type:"info",message:"Input canceled"})})},k=d=>{T.prompt("请输入1到10之间的数字（可保留小数点后两位）","提示",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^(?!0\d)(\d|[1-9]\d)(\.\d+)?$/,inputErrorMessage:"请输入1到10之间的数字（可保留小数点后两位）",customClass:"custom-message-box"}).then(({value:b})=>{f[Number(d)-1].distancesd=b,i.get("/rule1/setDisSD/"+d+"/"+b).then(a=>{c.success("修改成功！")}).catch(a=>{c.error("后台未连接！"),console.log(a)})}).catch(()=>{c({type:"info",message:"Input canceled"})})};return i.get("/rule2").then(d=>{Object.assign(x,d.data)}).catch(d=>{c.error("后台未连接！"),console.log(d)}),(d,b)=>{const a=M,h=N,g=S;return B(),P("div",null,[Cl,l(g,{data:f,stripe:"",style:{width:"1700px"}},{default:t(()=>[l(a,{prop:"id",label:"步骤ID",width:"70"}),l(a,{prop:"name",label:"步骤名",width:"160"}),l(a,{prop:"info",label:"操作描述",width:"160"}),l(a,{prop:"usetime",label:"用时标准值（均值）",width:"120"}),l(a,{prop:"usetimesd",label:"用时标准差",width:"120"}),l(a,{prop:"distance",label:"distance标准（均值）",width:"120"}),l(a,{prop:"distancesd",label:"distance标准差",width:"120"}),l(a,{fixed:"right",width:""},{default:t(m=>[l(h,{text:"",type:"primary",onClick:C=>j(m.row.id)},{default:t(()=>[r("更改用时均值")]),_:2},1032,["onClick"]),l(h,{text:"",type:"primary",onClick:C=>D(m.row.id)},{default:t(()=>[r("更改用时标准差")]),_:2},1032,["onClick"]),l(h,{text:"",type:"primary",onClick:C=>v(m.row.id)},{default:t(()=>[r("更改距离均值")]),_:2},1032,["onClick"]),l(h,{text:"",type:"primary",onClick:C=>k(m.row.id)},{default:t(()=>[r("更改距离标准差")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(xl),Vl,l(g,{data:x,stripe:"",style:{width:"1700px"}},{default:t(()=>[l(a,{prop:"itemid",label:"步骤ID",width:"70"}),l(a,{prop:"objectid",label:"模具id",width:"70"}),l(a,{prop:"objectx",label:"objectx标准值",width:"100"}),l(a,{prop:"objectxsd",label:"objectx标准差",width:"100"}),l(a,{prop:"objecty",label:"objecty标准值",width:"100"}),l(a,{prop:"objectysd",label:"objecty标准差",width:"100"}),l(a,{prop:"objectz",label:"objectz标准值",width:"100"}),l(a,{prop:"objectzsd",label:"objectz标准差",width:"100"}),l(a,{prop:"anglex",label:"anglex标准值",width:"100"}),l(a,{prop:"anglexsd",label:"anglex标准差",width:"100"}),l(a,{prop:"angley",label:"angley标准值",width:"100"}),l(a,{prop:"angleysd",label:"angley标准差",width:"100"}),l(a,{prop:"anglez",label:"anglez标准值",width:"100"}),l(a,{prop:"anglezsd",label:"anglez标准差",width:"100"}),l(a,{prop:"speedx",label:"speedx标准值",width:"100"}),l(a,{prop:"speedxsd",label:"speedx标准差",width:"100"}),l(a,{prop:"speedy",label:"speedy标准值",width:"100"}),l(a,{prop:"speedysd",label:"speedy标准差",width:"100"}),l(a,{prop:"speedz",label:"speedz标准值",width:"100"}),l(a,{prop:"speedzsd",label:"speedz标准差"})]),_:1},8,["data"])])}}});export{Ol as default};
