import{ax as S,a4 as z,by as D,a5 as I,ac as C,k as $,a3 as U,U as Y,bD as _,bu as x,V as A,bx as F,bt as V,bE as j,bv as G,bF as f,L as K,N as k,d as q,a as J,bG as p,Y as L,bw as Q}from"./index-2481af03.js";let r;const Z=t=>{var o;if(!S)return 0;if(r!==void 0)return r;const e=document.createElement("div");e.className=`${t}-scrollbar__wrap`,e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const a=e.offsetWidth;e.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",e.appendChild(s);const l=s.offsetWidth;return(o=e.parentNode)==null||o.removeChild(e),r=a-l,r},ae=(t,o,e)=>{let a={offsetX:0,offsetY:0};const s=c=>{const d=c.clientX,m=c.clientY,{offsetX:u,offsetY:v}=a,i=t.value.getBoundingClientRect(),h=i.left,y=i.top,T=i.width,O=i.height,W=document.documentElement.clientWidth,B=document.documentElement.clientHeight,N=-h+u,H=-y+v,P=W-h-T+u,X=B-y-O+v,b=g=>{const E=Math.min(Math.max(u+g.clientX-d,N),P),M=Math.min(Math.max(v+g.clientY-m,H),X);a={offsetX:E,offsetY:M},t.value.style.transform=`translate(${C(E)}, ${C(M)})`},w=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)},l=()=>{o.value&&t.value&&o.value.addEventListener("mousedown",s)},n=()=>{o.value&&t.value&&o.value.removeEventListener("mousedown",s)};z(()=>{D(()=>{e.value?l():n()})}),I(()=>{n()})},le=(t,o={})=>{$(t)||U("[useLockscreen]","You need to pass a ref param to this function");const e=o.ns||Y("popup"),a=_(()=>e.bm("parent","hidden"));if(!S||x(document.body,a.value))return;let s=0,l=!1,n="0";const c=()=>{setTimeout(()=>{G(document==null?void 0:document.body,a.value),l&&document&&(document.body.style.width=n)},200)};A(t,d=>{if(!d){c();return}l=!x(document.body,a.value),l&&(n=document.body.style.width),s=Z(e.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,u=F(document.body,"overflowY");s>0&&(m||u==="scroll")&&l&&(document.body.style.width=`calc(100% - ${s}px)`),V(document.body,a.value)}),j(()=>c())},R=t=>{if(!t)return{onClick:f,onMousedown:f,onMouseup:f};let o=!1,e=!1;return{onClick:n=>{o&&e&&t(n),o=e=!1},onMousedown:n=>{o=n.target===n.currentTarget},onMouseup:n=>{e=n.target===n.currentTarget}}},ee=K({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:k([String,Array,Object])},zIndex:{type:k([String,Number])}}),te={click:t=>t instanceof MouseEvent},oe="overlay";var ne=q({name:"ElOverlay",props:ee,emits:te,setup(t,{slots:o,emit:e}){const a=Y(oe),s=d=>{e("click",d)},{onClick:l,onMousedown:n,onMouseup:c}=R(t.customMaskEvent?void 0:s);return()=>t.mask?J("div",{class:[a.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:l,onMousedown:n,onMouseup:c},[L(o,"default")],p.STYLE|p.CLASS|p.PROPS,["onClick","onMouseup","onMousedown"]):Q("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(o,"default")])}});const ce=ne;export{ce as E,le as a,R as b,ae as u};
